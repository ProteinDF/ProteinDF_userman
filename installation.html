<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>3. インストール &mdash; ProteinDF User&#39;s Manual 2014.0 ドキュメント</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2014.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <link rel="top" title="ProteinDF User&#39;s Manual 2014.0 ドキュメント" href="index.html" />
    <link rel="next" title="4. クイックスタートガイド" href="quick_start_guide.html" />
    <link rel="prev" title="2. 概要" href="introduction.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="総合索引"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="quick_start_guide.html" title="4. クイックスタートガイド"
             accesskey="N">次へ</a> |</li>
        <li class="right" >
          <a href="introduction.html" title="2. 概要"
             accesskey="P">前へ</a> |</li>
        <li><a href="index.html">ProteinDF User&#39;s Manual 2014.0 ドキュメント</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="id1">
<h1>3. インストール<a class="headerlink" href="#id1" title="このヘッドラインへのパーマリンク">¶</a></h1>
<div class="section" id="id2">
<h2>3.1. 動作環境<a class="headerlink" href="#id2" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>ProteinDFはいくつかの形式で配布されています。
READMEファイルが添付されている場合は、まずREADMEファイルをご覧下さい。</p>
<p>ProteinDFの動作には以下の動作環境が必要です。</p>
<ul class="simple">
<li>UNIX/Linux オペレーティングシステム</li>
<li>Cランタイムライブラリ(通常はOSに同梱されています)</li>
<li>bash</li>
<li>BLAS, LAPACKライブラリ</li>
<li>MPI実行環境(並列版のみ)</li>
<li>分散行列演算ライブラリ(ScaLAPACK)</li>
</ul>
<div class="section" id="id3">
<h3>3.1.1. ハードウェアとオペレーティングシステム<a class="headerlink" href="#id3" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>POSIX準拠のコンピュータシステムで動作します。
現在、以下の計算機システムで動作確認が行われています。</p>
<ul class="simple">
<li>SGI社製 Altix 3000シリーズ</li>
<li>Cray社製 XT-5, XT-6</li>
</ul>
<p>一般的なx86 PC Linuxでも動作します。</p>
</div>
<div class="section" id="id4">
<h3>3.1.2. メモリとディスク<a class="headerlink" href="#id4" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>計算モデルの大きさに応じて必要なメモリ量が異なります。
また、並列計算を行う場合、
行列演算にLAPACKを使用する場合とScaLAPACKを使用する場合でも、
1ノードあたりに必要なメモリ量が変わります。
LAPACKを使用する場合は、各ノードに搭載されているメモリ容量が計算可能なサイズの上限です。
一方、ScaLAPACKを使用する場合は、全ノードで計算領域を分散保持しますので、
全ノードのメモリ容量が計算可能サイズの上限になります。
ただし、この他にも計算可能サイズを決定する要因がありますので
目安としてください。</p>
<div class="admonition warning">
<p class="first admonition-title">警告</p>
<p class="last">32bit OSでは扱えるメモリサイズ、ファイルサイズなど幾つかの制限事項がある場合があります。</p>
</div>
</div>
<div class="section" id="python">
<h3>3.1.3. pythonモジュール<a class="headerlink" href="#python" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>ProteinDFの動作には、
いくつかのpythonスクリプトが用意されています。
これらpythonスクリプトは、ProteinDFの実行そのものには必要ありませんが、
計算結果の解析用として用意されています。
これらpythonスクリプトの動作には以下のソフトウェア(モジュール)が必要です。
これらのソフトウェアの環境構築は、それぞれのシステムの方針に従って下さい。</p>
<ul class="simple">
<li>python(version 2.5以上)</li>
<li>argparseモジュール</li>
<li>numpyモジュール</li>
<li>matplotlibモジュール</li>
<li>MessagePackモジュール</li>
<li>YAMLモジュール</li>
</ul>
</div>
</div>
<div class="section" id="id5">
<h2>3.2. インストールと準備<a class="headerlink" href="#id5" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>配布パッケージによって、インストールの形態が異なります。
READMEファイルが添付されている場合は、READMEファイルの指示に従って下さい。</p>
<div class="section" id="index-0">
<span id="id6"></span><h3>3.2.1. 環境変数<a class="headerlink" href="#index-0" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>ProteinDFの実行には、以下の環境変数を設定する必要があります。
利用する環境に応じて、適切に環境変数を設定してください。</p>
<div class="section" id="pdf-home">
<span id="index-1"></span><h4>3.2.1.1. PDF_HOME<a class="headerlink" href="#pdf-home" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>ProteinDFパッケージをコピーしたディレクトリを指定します。</p>
<p>例えば、/usr/local/ProteinDF に本パッケージをコピーしたとき、
ログインシェルにbashを利用している場合は.bashrcに以下を追加してください。</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">PDF_HOME</span><span class="o">=</span>/usr/local/ProteinDF
<span class="nb">export </span>PDF_HOME
</pre></div>
</div>
</div>
<div class="section" id="omp-num-threads">
<span id="index-2"></span><h4>3.2.1.2. OMP_NUM_THREADS<a class="headerlink" href="#omp-num-threads" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>OpenMPによるスレッド並列を利用してProteinDFを実行する場合、
環境変数OMP_NUM_THREADSが指定されると、
OpenMP並列領域内における最大スレッド数を設定します。</p>
</div>
<div class="section" id="omp-schedule">
<span id="index-3"></span><h4>3.2.1.3. OMP_SCHEDULE<a class="headerlink" href="#omp-schedule" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>OpenMPによるスレッド並列を利用してProteinDFを実行する場合、
環境変数OMP_SCHEDULEにより、
OpenMP並列領域内における並列スケジュールのタイプとチャンクサイズを設定できます。</p>
</div>
</div>
<div class="section" id="id7">
<h3>3.2.2. ランタイムライブラリのインストール<a class="headerlink" href="#id7" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>x86ならびにx86_64環境用バイナリ版では、
intel社製共有ライブラリが必要になる場合があります。
インテル社ウェブページより再配布可能なライブラリをダウンロードし、インストールしてください。
<a class="reference external" href="http://software.intel.com/en-us/articles/redistributable-libraries-for-the-intelr-c-and-visual-fortran-compiler-professional-editions-for-linux/">http://software.intel.com/en-us/articles/redistributable-libraries-for-the-intelr-c-and-visual-fortran-compiler-professional-editions-for-linux/</a></p>
</div>
<div class="section" id="id8">
<h3>3.2.3. ソースからのビルド<a class="headerlink" href="#id8" title="このヘッドラインへのパーマリンク">¶</a></h3>
<div class="section" id="configure">
<h4>3.2.3.1. configureの実行<a class="headerlink" href="#configure" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>tarballを展開したソースファイルには、configureスクリプトが用意されています。
configureスクリプトを実行することによって
環境に応じたMakefileが作成されます。</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>./configure 2&gt;&amp;1 | tee out.configure
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">ノート</p>
<p class="last">ソースコードリポジトリから開発ソースを取得した場合は、
autotoolsからconfigureスクリプトを作成する必要があります。
詳しくは[xxx]を参照してください。</p>
</div>
<p>以下によく用いられるオプション/環境変数を示します。
詳しくは configure &#8211;help をご覧ください。</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">--prefix=location</span></tt></li>
</ul>
<p>プログラムのインストール先を指定します。
デフォルトは/usr/localです。
ユーザーのホームディレクトリなどにインストールするときに用いられます。</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">--enable-parallel</span></tt></li>
</ul>
<p>逐次版に加えて並列版プログラムも作成します。</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">--with-blas=location</span></tt></li>
</ul>
<p>BLASライブラリの場所を指定します。</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">--with-lapack=location</span></tt></li>
</ul>
<p>LAPACKライブラリの場所を指定します。</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">--with-scalapack=location</span></tt></li>
</ul>
<p>ScaLAPACKライブラリの場所を指定します。</p>
<ul class="simple">
<li>環境変数CC,CXX,MPICXX</li>
</ul>
<p>ビルドに用いるC/C++コンパイラを指定します。
MPIライブラリをリンクする場合は、
mpicxxなど計算機システムに応じたコンパイラを使用してください。</p>
<ul class="simple">
<li>環境変数CFLAGS,CXXFLAGS</li>
</ul>
<p>C/C++コンパイラに渡すオプションを指定します。
OpenMPなどのコンパイラへの指示は、この環境変数に指定してください。</p>
<ul class="simple">
<li>環境変数LIBS</li>
</ul>
<p>その他ビルドに必要なライブラリを指定します。</p>
<ul class="simple">
<li>環境変数BLAS_LIBS</li>
</ul>
<p>BLASライブラリを指定します。</p>
<ul class="simple">
<li>環境変数LAPACK_LIBS</li>
</ul>
<p>LAPACKライブラリを指定します。</p>
<ul class="simple">
<li>環境変数SCALAPACK_LIBS</li>
</ul>
<p>ScaLAPACKライブラリを指定します。</p>
</div>
<div class="section" id="make">
<h4>3.2.3.2. makeの実行<a class="headerlink" href="#make" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>configureを実行し、Makefileが作成されたことを確認してください。
Makefileが作成されたならば、makeを実行します。</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>make 2&gt;&amp;1 | tee out.make
</pre></div>
</div>
</div>
<div class="section" id="id9">
<h4>3.2.3.3. インストールの実行<a class="headerlink" href="#id9" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>makeの実行した後、実行ファイル・データを所定のパスにインストールします。</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>make install 2&gt;&amp;1 | tee out.make_install
</pre></div>
</div>
<p>インストールが実行されると、以下のファイルがコピーされます。</p>
<ul class="simple">
<li>${PDF_HOME}/bin/PDF.x</li>
<li>${PDF_HOME}/bin/PPDF.x</li>
<li>${PDF_HOME}/data/basis2</li>
</ul>
</div>
<div class="section" id="id10">
<h4>3.2.3.4. うまく行かない場合<a class="headerlink" href="#id10" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>環境によってはスクリプトが実行できない、ビルドできないなどの問題が発生するかもしれません。
その場合は、各スクリプトの出力(上記の操作の場合、out.configure, out.make, out.make_install)をよくチェックしてください。</p>
</div>
<div class="section" id="id11">
<h4>3.2.3.5. 開発コードからのビルド<a class="headerlink" href="#id11" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>ソースコードリポジトリから取得した場合は、
configureスクリプトをautotoolsを用いて作成する必要があります。
automake, autoconf, libtoolがインストールされた環境で、
同梱のbootstrap.shを実行してください。</p>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">目次</a></h3>
  <ul>
<li><a class="reference internal" href="#">3. インストール</a><ul>
<li><a class="reference internal" href="#id2">3.1. 動作環境</a><ul>
<li><a class="reference internal" href="#id3">3.1.1. ハードウェアとオペレーティングシステム</a></li>
<li><a class="reference internal" href="#id4">3.1.2. メモリとディスク</a></li>
<li><a class="reference internal" href="#python">3.1.3. pythonモジュール</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id5">3.2. インストールと準備</a><ul>
<li><a class="reference internal" href="#index-0">3.2.1. 環境変数</a><ul>
<li><a class="reference internal" href="#pdf-home">3.2.1.1. PDF_HOME</a></li>
<li><a class="reference internal" href="#omp-num-threads">3.2.1.2. OMP_NUM_THREADS</a></li>
<li><a class="reference internal" href="#omp-schedule">3.2.1.3. OMP_SCHEDULE</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id7">3.2.2. ランタイムライブラリのインストール</a></li>
<li><a class="reference internal" href="#id8">3.2.3. ソースからのビルド</a><ul>
<li><a class="reference internal" href="#configure">3.2.3.1. configureの実行</a></li>
<li><a class="reference internal" href="#make">3.2.3.2. makeの実行</a></li>
<li><a class="reference internal" href="#id9">3.2.3.3. インストールの実行</a></li>
<li><a class="reference internal" href="#id10">3.2.3.4. うまく行かない場合</a></li>
<li><a class="reference internal" href="#id11">3.2.3.5. 開発コードからのビルド</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>前のトピックへ</h4>
  <p class="topless"><a href="introduction.html"
                        title="前の章へ">2. 概要</a></p>
  <h4>次のトピックへ</h4>
  <p class="topless"><a href="quick_start_guide.html"
                        title="次の章へ">4. クイックスタートガイド</a></p>
  <h3>このページ</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/installation.txt"
           rel="nofollow">ソースコードを表示</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>クイック検索</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="検索" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    モジュール、クラス、または関数名を入力してください
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="総合索引"
             >索引</a></li>
        <li class="right" >
          <a href="quick_start_guide.html" title="4. クイックスタートガイド"
             >次へ</a> |</li>
        <li class="right" >
          <a href="introduction.html" title="2. 概要"
             >前へ</a> |</li>
        <li><a href="index.html">ProteinDF User&#39;s Manual 2014.0 ドキュメント</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Toshiyuki HIRANO.
      このドキュメントは <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2 で生成しました。
    </div>
  </body>
</html>