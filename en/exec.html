<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>6. Execution Procedure &mdash; ProteinDF User&#39;s Manual 2014.0 documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2014.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="ProteinDF User&#39;s Manual 2014.0 documentation" href="index.html" />
    <link rel="next" title="8. Ground State Calculation" href="ground_state_calc.html" />
    <link rel="prev" title="5. Input files" href="input.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="ground_state_calc.html" title="8. Ground State Calculation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="input.html" title="5. Input files"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">ProteinDF User&#39;s Manual 2014.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="id1">
<h1>6. Execution Procedure<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id2">
<h2>6.1. Program execution procedure<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>Follow the procedure below to execute ProteinDF from the command line:</p>
<div class="section" id="id3">
<h3>6.1.1. Preparation<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p>Create directories (default: fl_Input, fl_Table, and fl_Work) for outputting intermediate data, under the execution directory of ProteinDF (where the input file is located).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">These directories can be created with the <tt class="docutils literal"><span class="pre">pdf-setup</span></tt> command.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The data written in these directories will be extremely large. It is recommended to create the directories in a high-speed disk storage with large capacity.</p>
</div>
</div>
<div class="section" id="id4">
<h3>6.1.2. Executing the program (serial version)<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>To execute the serial version of ProteinDF, use the following command:</p>
<div class="highlight-bash"><div class="highlight"><pre>% <span class="nv">$PDF_HOME</span>/bin/PDF.x
</pre></div>
</div>
<p>When the computation starts, total energy at each SCF calculation is sequentially displayed in the standard output. In addition, the series of the calculation result data is output in the log file (fl_Out_Std). Intermediate data during all-electron calculation is also output in the log file.</p>
</div>
<div class="section" id="id5">
<h3>6.1.3. Executing the program (parallel version)<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<p>To execute the parallel version of ProteinDF, use the following command:</p>
<div class="highlight-bash"><div class="highlight"><pre>% mpiexec -n N <span class="nv">$PDF_HOME</span>/bin/PDF.x
</pre></div>
</div>
<p>Here, specify <tt class="docutils literal"><span class="pre">N</span></tt>, the number of processors for parallel computation.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Execution procedure of the MPI program varies depending on the computing system environment. For details, refer to the system manuals.</p>
</div>
<p>When the computation starts, total energy at each SCF calculation is sequentially displayed in the standard output. In addition, the series of the calculation result data is output in a text file (default file name: fl_Out_Std), as in the serial mode.</p>
</div>
</div>
</div>
<div class="section" id="id6">
<h1>7. Run Type<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id7">
<h2>7.1. Overview<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<p>ProteinDF has several run types to efficiently compute a large object with limited computing resources.</p>
<table border="1" class="docutils">
<colgroup>
<col width="45%" />
<col width="32%" />
<col width="23%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">run type</th>
<th class="head">parallel method</th>
<th class="head">matrix</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>serial</td>
<td>OpenMP only</td>
<td>replica</td>
</tr>
<tr class="row-odd"><td>replica_static</td>
<td>MPI/OpenMP hybrid</td>
<td>replica</td>
</tr>
<tr class="row-even"><td>replica_dynamic</td>
<td>MPI/OpenMP hybrid</td>
<td>replica</td>
</tr>
<tr class="row-odd"><td>distributed</td>
<td>MPI/OpenMP hybrid</td>
<td>distributed</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="serial">
<h2>7.2. serial<a class="headerlink" href="#serial" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p class="first">Performs computation in a single process without interprocess communication.</p>
</li>
<li><p class="first">Allows multi-thread parallel computation with OpenMP.</p>
</li>
<li><p class="first">Uses LAPACK for matrix operations.</p>
</li>
<li><p class="first">The computable system scale depends on the memory size available for the process.</p>
</li>
</ul>
</div>
<div class="section" id="replica-static">
<h2>7.3. replica_static<a class="headerlink" href="#replica-static" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p class="first">Performs parallel computation with interprocess communication (MPI). In each process, OpenMP parallel computation is performed.</p>
</li>
<li><p class="first">Process duplicates and stores all matrix elements in MPI processes.</p>
</li>
<li><p class="first">If matrices cannot be stored in the specified memory amount, they are stored in disk storage.</p>
</li>
<li><p class="first">Employs the divide and conquer algorithm for task distribution.</p>
</li>
<li><p class="first">Uses LAPACK for matrix operations.</p>
</li>
<li><p class="first">Uses LAPACK for matrix operations.</p>
</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In the divide and conquer algorithm, all processes join the computation. This algorithm is therefore effective when the number of processes is small. One defect is that the load cannot be distributed evenly.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Use the keyword <tt class="docutils literal"><span class="pre">memory_size</span></tt> to specify the memory size that can be used for processes.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If the disk storage is used due to memory shortage, the system performance may deteriorate.</p>
</div>
</div>
<div class="section" id="replica-dynamic">
<h2>7.4. replica_dynamic<a class="headerlink" href="#replica-dynamic" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p class="first">Performs parallel computation with interprocess communication (MPI). In each process, OpenMP parallel computation is performed.</p>
</li>
<li><p class="first">Process duplicates and stores all matrix elements in MPI processes.</p>
</li>
<li><p class="first">If matrices cannot be stored in the specified memory amount, they are stored in disk storage.</p>
</li>
<li><p class="first">Employs the master-slave method for task distribution.</p>
</li>
<li><p class="first">Uses LAPACK for matrix operations.</p>
</li>
<li><p class="first">Uses LAPACK for matrix operations.</p>
</li>
<li><p class="first">Uses MS for <tt class="docutils literal"><span class="pre">parallel_processing_type</span></tt></p>
</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In the master-slave method, the master process dedicates distribution of tasks. This algorithm is effective when the number of process is large.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Use the keyword <tt class="docutils literal"><span class="pre">memory_size</span></tt> to specify the memory size that can be used for processes.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If the disk storage is used due to memory shortage, the system performance may deteriorate.</p>
</div>
</div>
<div class="section" id="distributed">
<h2>7.5. distributed<a class="headerlink" href="#distributed" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p class="first">Performs parallel computation with interprocess communication (MPI). In each process, OpenMP parallel computation is performed.</p>
</li>
<li><p class="first">Distributes and stores a global matrix among MPI processes.</p>
</li>
<li><p class="first">If matrices cannot be stored in the specified memory amount, they are stored in disk storage.</p>
</li>
<li><p class="first">Uses ScaLAPACK for matrix operations.</p>
</li>
<li><p class="first">Uses ScaLAPACK for <tt class="docutils literal"><span class="pre">linear_algebra_package</span></tt></p>
</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">6. Execution Procedure</a><ul>
<li><a class="reference internal" href="#id2">6.1. Program execution procedure</a><ul>
<li><a class="reference internal" href="#id3">6.1.1. Preparation</a></li>
<li><a class="reference internal" href="#id4">6.1.2. Executing the program (serial version)</a></li>
<li><a class="reference internal" href="#id5">6.1.3. Executing the program (parallel version)</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#id6">7. Run Type</a><ul>
<li><a class="reference internal" href="#id7">7.1. Overview</a></li>
<li><a class="reference internal" href="#serial">7.2. serial</a></li>
<li><a class="reference internal" href="#replica-static">7.3. replica_static</a></li>
<li><a class="reference internal" href="#replica-dynamic">7.4. replica_dynamic</a></li>
<li><a class="reference internal" href="#distributed">7.5. distributed</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="input.html"
                        title="previous chapter">5. Input files</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="ground_state_calc.html"
                        title="next chapter">8. Ground State Calculation</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/exec.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="ground_state_calc.html" title="8. Ground State Calculation"
             >next</a> |</li>
        <li class="right" >
          <a href="input.html" title="5. Input files"
             >previous</a> |</li>
        <li><a href="index.html">ProteinDF User&#39;s Manual 2014.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Toshiyuki HIRANO.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>